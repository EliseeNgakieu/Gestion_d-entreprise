<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion d'Entreprise - Modifier un Employé</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Composant Button simple
        function Button({ children, variant = "default", className = "", onClick, type = "button", ...props }) {
            const baseClasses = "px-4 py-2 rounded-lg font-medium transition-all cursor-pointer";
            const variantClasses = {
                ghost: "hover:bg-green-50 text-green-700",
                default: "bg-green-600 hover:bg-green-700 text-white shadow-md hover:shadow-lg"
            };
            const classes = `${baseClasses} ${variantClasses[variant] || variantClasses.default} ${className}`;
            
            return (
                <button type={type} className={classes} onClick={onClick} {...props}>
                    {children}
                </button>
            );
        }

        // Composant Card simple
        function Card({ children, className = "", ...props }) {
            return (
                <div className={`bg-white rounded-lg ${className}`} {...props}>
                    {children}
                </div>
            );
        }

        // Composant CardContent simple
        function CardContent({ children, className = "", ...props }) {
            return (
                <div className={className} {...props}>
                    {children}
                </div>
            );
        }

        // Composant Motion simplifié pour l'animation
        function Motion({ children, initial, animate, transition, className = "", ...props }) {
            const [style, setStyle] = useState(initial || {});

            useEffect(() => {
                const timer = setTimeout(() => {
                    setStyle(animate || {});
                }, transition?.delay || 0);

                return () => clearTimeout(timer);
            }, []);

            return (
                <div className={className} style={style} {...props}>
                    {children}
                </div>
            );
        }

        // Page de modification d'un employé
        function EditEmployeePage() {
            const [formData, setFormData] = useState({
                fullName: "",
                photo: "",
                jobTitle: "",
                department: "",
                email: "",
                contact: "",
                responsibilities: "",
                skills: "",
                startDate: "",
                manager: "",
                contractDuration: "",
                birthDate: "",
                birthPlace: "",
                contractType: "",
                adminInfo: "",
            });

            const [photoPreview, setPhotoPreview] = useState(null);
            const [employeeId, setEmployeeId] = useState(null);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                try {
                    const params = new URLSearchParams(window.location.search);
                    const id = params.get("id");
                    if (!id) {
                        alert("Aucun employé sélectionné. Redirection vers la liste...");
                        window.location.href = "gestion.html";
                        return;
                    }

                    setEmployeeId(id);
                    const stored = JSON.parse(localStorage.getItem("employees") || "[]");
                    const employee = stored.find((emp) => String(emp.id) === id);

                    if (!employee) {
                        alert("Employé introuvable. Redirection vers la liste...");
                        window.location.href = "gestion.html";
                        return;
                    }

                    // Pré-remplir le formulaire avec les données de l'employé
                    setFormData({
                        fullName: employee.fullName || "",
                        photo: employee.photo || "",
                        jobTitle: employee.jobTitle || "",
                        department: employee.department || "",
                        email: employee.email || "",
                        contact: employee.contact || "",
                        responsibilities: employee.responsibilities || "",
                        skills: employee.skills || "",
                        startDate: employee.startDate || "",
                        manager: employee.manager || "",
                        contractDuration: employee.contractDuration || "",
                        birthDate: employee.birthDate || "",
                        birthPlace: employee.birthPlace || "",
                        contractType: employee.contractType || "",
                        adminInfo: employee.adminInfo || "",
                    });

                    if (employee.photo) {
                        setPhotoPreview(employee.photo);
                    }

                    setLoading(false);
                } catch (error) {
                    console.error("Erreur lors du chargement de l'employé :", error);
                    alert("Erreur lors du chargement des données. Redirection...");
                    window.location.href = "gestion.html";
                }
            }, []);

            function handleChange(e) {
                const { name, value, files } = e.target;

                if (name === "photo" && files && files[0]) {
                    const file = files[0];
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setFormData((prev) => ({
                            ...prev,
                            photo: reader.result,
                        }));
                        setPhotoPreview(reader.result);
                    };
                    reader.readAsDataURL(file);
                } else {
                    setFormData({
                        ...formData,
                        [name]: value,
                    });
                }
            }

            function handleSubmit(e) {
                e.preventDefault();
                
                if (!employeeId) {
                    alert("Erreur : ID employé manquant");
                    return;
                }

                try {
                    const stored = JSON.parse(localStorage.getItem("employees") || "[]");
                    const updatedEmployees = stored.map((emp) => {
                        if (String(emp.id) === employeeId) {
                            return {
                                ...emp,
                                fullName: formData.fullName,
                                photo: formData.photo,
                                jobTitle: formData.jobTitle,
                                department: formData.department,
                                email: formData.email,
                                contact: formData.contact,
                                responsibilities: formData.responsibilities,
                                skills: formData.skills,
                                startDate: formData.startDate,
                                manager: formData.manager,
                                contractDuration: formData.contractDuration,
                                birthDate: formData.birthDate,
                                birthPlace: formData.birthPlace,
                                contractType: formData.contractType,
                                adminInfo: formData.adminInfo,
                            };
                        }
                        return emp;
                    });

                    localStorage.setItem("employees", JSON.stringify(updatedEmployees));
                    alert("Employé modifié avec succès !");
                    window.location.href = `details.html?id=${employeeId}`;
                } catch (error) {
                    console.error("Erreur lors de la sauvegarde :", error);
                    alert("Erreur lors de la sauvegarde des modifications.");
                }
            }

            if (loading) {
                return (
                    <div className="min-h-screen bg-gradient-to-b from-green-50 to-white flex items-center justify-center">
                        <div className="text-center">
                            <div className="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mb-4"></div>
                            <p className="text-green-700 font-medium">Chargement des données...</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gradient-to-br from-green-50 via-white to-green-50 flex flex-col items-center py-12 px-4">
                    <Motion
                        initial={{ opacity: 0, y: -20 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ duration: 0.8 }}
                        className="w-full max-w-5xl"
                    >
                        <div className="text-center mb-8">
                            <div className="inline-flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm font-semibold mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                </svg>
                                Modification du profil
                            </div>
                            <h2 className="text-4xl font-bold text-green-800 mb-2">Modifier l'Employé</h2>
                            <p className="text-green-600">Mettez à jour les informations de l'employé</p>
                        </div>

                        <Card className="w-full shadow-xl border border-green-100 backdrop-blur-sm bg-white/95">
                            <CardContent className="p-8">
                                <form onSubmit={handleSubmit} className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    {/* Nom complet */}
                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                                </svg>
                                                Nom complet
                                            </span>
                                        </label>
                                        <input 
                                            type="text" 
                                            name="fullName" 
                                            value={formData.fullName} 
                                            onChange={handleChange} 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all" 
                                            required 
                                        />
                                    </div>

                                    {/* Photo professionnelle */}
                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                                </svg>
                                                Photo professionnelle
                                            </span>
                                        </label>
                                        <label
                                            htmlFor="photo-input"
                                            className="block w-48 h-48 mx-auto border-2 border-dashed border-green-300 rounded-2xl flex flex-col items-center justify-center text-center text-green-600 cursor-pointer hover:border-green-500 hover:bg-green-50 transition-all shadow-sm"
                                        >
                                            {photoPreview ? (
                                                <img
                                                    src={photoPreview}
                                                    alt="Preview"
                                                    className="h-full w-full object-cover rounded-2xl"
                                                />
                                            ) : (
                                                <>
                                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-12 w-12 mb-2 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                                    </svg>
                                                    <span className="text-sm font-medium">Cliquez pour changer la photo</span>
                                                    <span className="text-xs text-green-500 mt-1">PNG, JPG, JPEG</span>
                                                </>
                                            )}
                                        </label>
                                        <input
                                            id="photo-input"
                                            type="file"
                                            name="photo"
                                            onChange={handleChange}
                                            accept="image/*"
                                            className="hidden"
                                        />
                                    </div>

                                    {/* Titre du poste */}
                                    <div>
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                                </svg>
                                                Titre du poste
                                            </span>
                                        </label>
                                        <input 
                                            type="text" 
                                            name="jobTitle" 
                                            value={formData.jobTitle} 
                                            onChange={handleChange} 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all" 
                                            required 
                                        />
                                    </div>

                                    {/* Département */}
                                    <div>
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                                                </svg>
                                                Département du service
                                            </span>
                                        </label>
                                        <input 
                                            type="text" 
                                            name="department" 
                                            value={formData.department} 
                                            onChange={handleChange} 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all" 
                                        />
                                    </div>

                                    {/* Email pro */}
                                    <div>
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                                </svg>
                                                Email professionnel
                                            </span>
                                        </label>
                                        <input 
                                            type="email" 
                                            name="email" 
                                            value={formData.email} 
                                            onChange={handleChange} 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all" 
                                        />
                                    </div>

                                    {/* Contact pro */}
                                    <div>
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                                </svg>
                                                Contact professionnel
                                            </span>
                                        </label>
                                        <input 
                                            type="tel" 
                                            name="contact" 
                                            value={formData.contact} 
                                            onChange={handleChange} 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all" 
                                        />
                                    </div>

                                    {/* Responsabilités principales */}
                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                                                </svg>
                                                Responsabilités principales
                                            </span>
                                        </label>
                                        <textarea 
                                            name="responsibilities" 
                                            value={formData.responsibilities} 
                                            onChange={handleChange} 
                                            rows="4" 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all resize-none" 
                                        />
                                    </div>

                                    {/* Compétences */}
                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                                                </svg>
                                                Compétences spécialisées
                                            </span>
                                        </label>
                                        <textarea 
                                            name="skills" 
                                            value={formData.skills} 
                                            onChange={handleChange} 
                                            rows="4" 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all resize-none" 
                                        />
                                    </div>

                                    {/* Date d'arrivée */}
                                    <div>
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                                </svg>
                                                Date d'arrivée
                                            </span>
                                        </label>
                                        <input 
                                            type="date" 
                                            name="startDate" 
                                            value={formData.startDate} 
                                            onChange={handleChange} 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all" 
                                        />
                                    </div>

                                    {/* Manager direct */}
                                    <div>
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                                                </svg>
                                                Manager direct
                                            </span>
                                        </label>
                                        <input 
                                            type="text" 
                                            name="manager" 
                                            value={formData.manager} 
                                            onChange={handleChange} 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all" 
                                        />
                                    </div>

                                    {/* Durée du contrat */}
                                    <div>
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                                </svg>
                                                Durée du contrat
                                            </span>
                                        </label>
                                        <input 
                                            type="text" 
                                            name="contractDuration" 
                                            value={formData.contractDuration} 
                                            onChange={handleChange} 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all" 
                                        />
                                    </div>

                                    {/* Date de naissance */}
                                    <div>
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                                </svg>
                                                Date de naissance
                                            </span>
                                        </label>
                                        <input 
                                            type="date" 
                                            name="birthDate" 
                                            value={formData.birthDate} 
                                            onChange={handleChange} 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all" 
                                        />
                                    </div>

                                    {/* Lieu de naissance */}
                                    <div>
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                                </svg>
                                                Lieu de naissance
                                            </span>
                                        </label>
                                        <input 
                                            type="text" 
                                            name="birthPlace" 
                                            value={formData.birthPlace} 
                                            onChange={handleChange} 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all" 
                                        />
                                    </div>

                                    {/* Type de contrat */}
                                    <div>
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                                </svg>
                                                Type de contrat
                                            </span>
                                        </label>
                                        <select 
                                            name="contractType" 
                                            value={formData.contractType} 
                                            onChange={handleChange} 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all bg-white"
                                        >
                                            <option value="">Sélectionnez</option>
                                            <option value="CDI">CDI</option>
                                            <option value="CDD">CDD</option>
                                            <option value="Stage">Stage</option>
                                            <option value="Freelance">Freelance</option>
                                        </select>
                                    </div>

                                    {/* Infos admin */}
                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-semibold text-green-700 mb-2">
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                                </svg>
                                                Informations administratives
                                            </span>
                                        </label>
                                        <textarea 
                                            name="adminInfo" 
                                            value={formData.adminInfo} 
                                            onChange={handleChange} 
                                            rows="4" 
                                            className="w-full px-4 py-3 rounded-xl border-2 border-green-200 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all resize-none" 
                                        />
                                    </div>

                                    {/* Boutons */}
                                    <div className="md:col-span-2 flex flex-col md:flex-row justify-between items-center gap-4 mt-6 w-full max-w-xl mx-auto">
                                        <Button 
                                            type="button" 
                                            className="bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-xl w-full md:w-auto shadow-lg hover:shadow-xl transition-all"
                                            onClick={() => window.location.href = `details.html?id=${employeeId}`}
                                        >
                                            Annuler
                                        </Button>
                                        <Button 
                                            type="submit" 
                                            className="bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-xl w-full md:w-auto shadow-lg hover:shadow-xl transition-all"
                                        >
                                            <span className="flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                                                </svg>
                                                Enregistrer les modifications
                                            </span>
                                        </Button>
                                    </div>
                                </form>
                            </CardContent>
                        </Card>
                    </Motion>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<EditEmployeePage />);
    </script>
</body>
</html>

